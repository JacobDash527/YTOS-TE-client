[gd_scene load_steps=22 format=2]

[ext_resource path="res://Hacker.gd" type="Script" id=1]
[ext_resource path="res://portraits/1.png" type="Texture" id=2]
[ext_resource path="res://fonts/F25_Bank_Printer.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://PNG (Transparent)/circle_02.png" type="Texture" id=4]
[ext_resource path="res://PNG (Transparent)/window_01.png" type="Texture" id=5]
[ext_resource path="res://PNG (Transparent)/slash_03.png" type="Texture" id=6]
[ext_resource path="res://PNG (Transparent)/trace_07.png" type="Texture" id=8]

[sub_resource type="Gradient" id=2]
offsets = PoolRealArray( 0.0258065, 1 )
colors = PoolColorArray( 1, 1, 1, 1, 1, 1, 1, 0 )

[sub_resource type="GradientTexture" id=3]
gradient = SubResource( 2 )

[sub_resource type="Curve" id=4]
_data = [ Vector2( 0, 0.0924244 ), 0.0, 0.0, 0, 0, Vector2( 1, 0.637879 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=5]
curve = SubResource( 4 )

[sub_resource type="ParticlesMaterial" id=6]
flag_disable_z = true
gravity = Vector3( 0, 0, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0
scale_curve = SubResource( 5 )
color_ramp = SubResource( 3 )

[sub_resource type="Shader" id=9]
code = "shader_type canvas_item;
//render_mode specular_schlick_ggx, async_visible;

void fragment() {
// Input:2
    bool inner = (UV.x-0.5)*(UV.x-0.5)+(UV.y-0.5)*(UV.y-0.5) > 0.1;
    bool outer = (UV.x-0.5)*(UV.x-0.5)+(UV.y-0.5)*(UV.y-0.5) > 0.2;
    bool spin = false;
    float ang = atan((UV.x-0.5)/(UV.y-0.5)) + 3.1415/2.0;
    const float size = 1.5;
    const float speed = 5.0;
    if (UV.y < 0.5) {
        ang += 3.14;
       }
    spin = abs(ang-mod(TIME*speed, 3.1415*2.0)) < size || abs(ang-3.1415*2.0-mod(TIME*speed, 3.1415*2.0)) < size || abs(ang+3.1415*2.0-mod(TIME*speed, 3.1415*2.0)) < size;
    if (inner && !outer && spin) {
        COLOR = vec4(1, 1, 1, 1);
    } else {
        COLOR = vec4(0, 0, 0, 0);
       }

// VectorDecompose:

}
"

[sub_resource type="ShaderMaterial" id=8]
shader = SubResource( 9 )

[sub_resource type="Gradient" id=11]
offsets = PoolRealArray( 0.0129032, 0.793548, 1 )
colors = PoolColorArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0 )

[sub_resource type="GradientTexture" id=12]
gradient = SubResource( 11 )

[sub_resource type="ParticlesMaterial" id=10]
flag_disable_z = true
spread = 0.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 100.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
angle = 28.5
scale = 0.17
color_ramp = SubResource( 12 )

[sub_resource type="Curve" id=13]
_data = [ Vector2( 0.00561798, 0.170123 ), 0.0, 0.0, 0, 0, Vector2( 0.235955, 0.979214 ), 0.0, 0.0, 0, 0, Vector2( 0.365169, 0.34285 ), 0.0, 0.0, 0, 0, Vector2( 0.595506, 0.779214 ), 0.0, 0.0, 0, 0, Vector2( 0.747191, 0.324668 ), 0.0, 0.0, 0, 0, Vector2( 0.820225, 0.924668 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=14]
curve = SubResource( 13 )

[sub_resource type="ParticlesMaterial" id=15]
flag_disable_z = true
spread = 0.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 200.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
scale = 0.3
scale_random = 0.4
scale_curve = SubResource( 14 )
color = Color( 1, 0, 0, 1 )
color_ramp = SubResource( 12 )

[sub_resource type="DynamicFont" id=1]
size = 21
font_data = ExtResource( 3 )

[node name="Hacker" type="VBoxContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 1 )

[node name="HBoxContainer" type="HBoxContainer" parent="."]
margin_right = 1400.0
margin_bottom = 64.0

[node name="PortraitSprite" type="TextureRect" parent="HBoxContainer"]
margin_right = 64.0
margin_bottom = 64.0
texture = ExtResource( 2 )

[node name="Pulse" type="Particles2D" parent="HBoxContainer/PortraitSprite"]
position = Vector2( 32, 32 )
emitting = false
amount = 4
lifetime = 2.0
one_shot = true
process_material = SubResource( 6 )
texture = ExtResource( 4 )

[node name="Stall" type="Sprite" parent="HBoxContainer/PortraitSprite"]
visible = false
material = SubResource( 8 )
position = Vector2( 64, 16 )
scale = Vector2( 0.05, 0.05 )
texture = ExtResource( 5 )

[node name="Timer" type="Timer" parent="HBoxContainer/PortraitSprite/Stall"]
wait_time = 3.5
one_shot = true

[node name="Ping" type="Particles2D" parent="HBoxContainer/PortraitSprite"]
position = Vector2( 32, 32 )
emitting = false
lifetime = 2.0
one_shot = true
process_material = SubResource( 10 )
texture = ExtResource( 6 )

[node name="Dos" type="Particles2D" parent="HBoxContainer/PortraitSprite"]
position = Vector2( 32, 32 )
emitting = false
amount = 16
lifetime = 3.0
process_material = SubResource( 15 )
texture = ExtResource( 8 )

[node name="Timer" type="Timer" parent="HBoxContainer/PortraitSprite/Dos"]
wait_time = 10.0
one_shot = true

[node name="Telnet" type="Line2D" parent="HBoxContainer/PortraitSprite"]
points = PoolVector2Array( 32, 32, 32, 32 )
default_color = Color( 0, 1, 0.109804, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="HackerNameLabel" type="Label" parent="HBoxContainer"]
margin_left = 68.0
margin_top = 21.0
margin_right = 1400.0
margin_bottom = 43.0
size_flags_horizontal = 3
custom_fonts/font = SubResource( 1 )
text = "Name"
autowrap = true

[node name="HackerAbilityLabel" type="Label" parent="."]
margin_top = 68.0
margin_right = 1400.0
margin_bottom = 90.0
size_flags_horizontal = 3
custom_fonts/font = SubResource( 1 )
autowrap = true

[node name="Tween" type="Tween" parent="."]

[connection signal="timeout" from="HBoxContainer/PortraitSprite/Stall/Timer" to="." method="_on_Stall_Timer_timeout"]
[connection signal="timeout" from="HBoxContainer/PortraitSprite/Dos/Timer" to="." method="_on_Timer_timeout"]
